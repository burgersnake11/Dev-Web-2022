"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[479],{7479:function(e,t,n){n.r(t),n.d(t,{default:function(){return _}});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("div",[n("h1",[e._v("Liste de vos enfants")])]),n("v-data-table",{staticClass:"elevation-8",attrs:{headers:e.enfants_parents,items:e.fiches_enfants,"items-per-page":5,id:"poussin"},on:{"click:row":e.fiche}}),n("div",[n("h1",[e._v("Inscrire un enfant?")]),n("v-btn",{on:{click:e.inscription}},[e._v("Inscrire un enfant?")])],1),n("div",[n("h1",[e._v("Se déconnecter")]),n("v-btn",{on:{click:e.deconnexion}},[e._v("Se déconnecter")])],1)],1)},s=[],o=(n(2801),n(9669)),a=n.n(o),r={data(){return{content:"",id_parent:"",fiches_enfants:[],enfants_parents:[{text:"Nom des enfants",align:"start",sortable:!1,value:"nom_complet"}]}},mounted(){let e=a().defaults.headers.common.Authorization;if(!e)return"Utilisteur pas connecté";{let s=e.split("Bearer ")[1];var t=s.split(".")[1],n=t.replace(/-/g,"+").replace(/_/g,"/"),i=decodeURIComponent(atob(n).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));let o=JSON.parse(i);this.id_parent=o.userId}if(this.compte=[],void 0!==this.id_parent){let e={id_parent:this.id_parent};a().get("https://testdev3heroku.herokuapp.com/api/compte/fiches",{params:e}).then((e=>{if(this.content=e.data,this.fiches_enfants,void 0==this.content[0]){let e={nom_complet:"Vous n'avez pas encore d'enfants"};this.fiches_enfants.push(e)}else for(let t in this.content){let e={nom_complet:this.content[t].nom_enfant+" "+this.content[t].prenom_enfant,id:this.content[t]._id};this.fiches_enfants.push(e)}}))}},methods:{inscription(){this.$router.push({name:"formulaire"})},deconnexion(){this.$router.push({name:"home"}),window.location.reload()},fiche(e){this.$router.push({path:`compte/${e.id}`})}}},c=r,p=n(1001),h=n(3453),l=n.n(h),d=n(7524),f=n(680),u=n(4571),m=(0,p.Z)(c,i,s,!1,null,null,null),_=m.exports;l()(m,{VApp:d.Z,VBtn:f.Z,VDataTable:u.Z})}}]);
//# sourceMappingURL=479.ac101933.js.map