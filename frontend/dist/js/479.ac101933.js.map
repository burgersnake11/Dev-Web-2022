{"version":3,"file":"js/479.ac101933.js","mappings":"4JAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACA,EAAG,MAAM,CAACA,EAAG,KAAK,CAACJ,EAAIM,GAAG,4BAA4BF,EAAG,eAAe,CAACG,YAAY,cAAcC,MAAM,CAAC,QAAUR,EAAIS,gBAAgB,MAAQT,EAAIU,eAAe,iBAAiB,EAAE,GAAK,WAAWC,GAAG,CAAC,YAAYX,EAAIY,SAASR,EAAG,MAAM,CAACA,EAAG,KAAK,CAACJ,EAAIM,GAAG,yBAAyBF,EAAG,QAAQ,CAACO,GAAG,CAAC,MAAQX,EAAIa,cAAc,CAACb,EAAIM,GAAG,0BAA0B,GAAGF,EAAG,MAAM,CAACA,EAAG,KAAK,CAACJ,EAAIM,GAAG,oBAAoBF,EAAG,QAAQ,CAACO,GAAG,CAAC,MAAQX,EAAIc,cAAc,CAACd,EAAIM,GAAG,qBAAqB,IAAI,IACtkBS,EAAkB,G,6BC0BtB,GACE,OACE,MAAJ,CACM,QAANC,GACM,UAANC,GACM,eAANP,GACM,gBAAND,CAAAA,CACQ,KAARS,kBACQ,MAARC,QACQ,UAARC,EACQ,MAARC,kBAIE,UACE,IAAJ,4CACI,IAAJ,EAUM,MAAN,0BAVA,CACM,IAAN,wBACM,IAAN,kBACA,wCACA,wDACQ,MAAR,qDACAC,KAAA,KACM,IAAN,gBACM,KAAN,mBAKI,GADA,KAAJ,eACA,oBACM,IAAN,GAAQ,UAARL,KAAAA,WACMM,IAAAA,IACN,0DAAQ,OAARC,IACAC,MAAAC,IAGQ,GAFA,KAAR,eACQ,KAAR,oBACA,oBACU,IAAV,GAAY,YAAZC,oCACU,KAAV,4BAEU,IAAV,uBACY,IAAZ,GAAc,YAAdA,KAAAA,QAAAA,GAAAA,WAAAA,IAAAA,KAAAA,QAAAA,GAAAA,cAAc,GAAdC,KAAAA,QAAAA,GAAAA,KACY,KAAZ,6BAME,QAAFC,CACI,cACE,KAAN,cACQ,KAARC,gBAGI,cACE,KAAN,cACQ,KAARA,SAEM,OAANC,SAAAA,UAEI,MAAJnB,GACM,KAAN,cACQ,KAARoB,UAAAA,EAAAA,UCzFsQ,I,0DCOlQC,GAAY,OACd,EACAlC,EACAgB,GACA,EACA,KACA,KACA,MAIF,EAAekB,EAAiB,QAOhC,IAAkBA,EAAW,CAACC,KAAI,SAAK,eAAW","sources":["webpack://frontend/./src/views/CompteView.vue?35b2","webpack://frontend/src/views/CompteView.vue","webpack://frontend/./src/views/CompteView.vue?940b","webpack://frontend/./src/views/CompteView.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('div',[_c('h1',[_vm._v(\"Liste de vos enfants\")])]),_c('v-data-table',{staticClass:\"elevation-8\",attrs:{\"headers\":_vm.enfants_parents,\"items\":_vm.fiches_enfants,\"items-per-page\":5,\"id\":\"poussin\"},on:{\"click:row\":_vm.fiche}}),_c('div',[_c('h1',[_vm._v(\"Inscrire un enfant?\")]),_c('v-btn',{on:{\"click\":_vm.inscription}},[_vm._v(\"Inscrire un enfant?\")])],1),_c('div',[_c('h1',[_vm._v(\"Se déconnecter\")]),_c('v-btn',{on:{\"click\":_vm.deconnexion}},[_vm._v(\"Se déconnecter\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-app>\r\n    <div>\r\n      <h1>Liste de vos enfants</h1>\r\n    </div>\r\n    <v-data-table\r\n      :headers=\"enfants_parents\"\r\n      :items=\"fiches_enfants\"\r\n      :items-per-page=\"5\"\r\n      class=\"elevation-8\"\r\n      @click:row=\"fiche\"\r\n      id=\"poussin\"          \r\n    >\r\n    </v-data-table>\r\n    <div>\r\n      <h1>Inscrire un enfant?</h1>\r\n      <v-btn @click=\"inscription\">Inscrire un enfant?</v-btn>\r\n    </div>\r\n    <div>\r\n      <h1>Se déconnecter</h1>\r\n      <v-btn @click=\"deconnexion\">Se déconnecter</v-btn>\r\n    </div>\r\n    </v-app>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nexport default {\r\n    data() {\r\n        return {\r\n          content: '',\r\n          id_parent: '',\r\n          fiches_enfants: [],\r\n          enfants_parents: [{\r\n            text: 'Nom des enfants',\r\n            align: 'start',\r\n            sortable: false,\r\n            value: 'nom_complet',\r\n          }]\r\n        }\r\n    },\r\n    mounted() {\r\n      let authHeader = axios.defaults.headers.common['Authorization']\r\n      if(authHeader){\r\n        let token = authHeader.split('Bearer ')[1];\r\n        var base64Url = token.split('.')[1];\r\n          var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\r\n          var jsonPayload = decodeURIComponent(atob(base64).split('').map(function(c) {\r\n              return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\r\n          }).join(''));\r\n          let userConnected = JSON.parse(jsonPayload);\r\n          this.id_parent = userConnected.userId\r\n      } else {\r\n        return (\"Utilisteur pas connecté\")\r\n      }\r\n      this.compte = [];\r\n      if(this.id_parent !== undefined){\r\n        let parent_json = {id_parent : this.id_parent};\r\n        axios\r\n        .get(\"https://testdev3heroku.herokuapp.com/api/compte/fiches\", {params :parent_json})\r\n        .then((response) => {\r\n          this.content = response.data;\r\n          this.fiches_enfants;\r\n          if(this.content[0] == undefined){\r\n            let result = {nom_complet : \"Vous n'avez pas encore d'enfants\"}\r\n            this.fiches_enfants.push(result);\r\n          } else  {\r\n            for (let i in this.content){\r\n              let result = {nom_complet: this.content[i].nom_enfant + \" \" + this.content[i].prenom_enfant, id : this.content[i]._id};\r\n              this.fiches_enfants.push(result);\r\n            }\r\n          }\r\n        })\r\n      }\r\n    },\r\n    methods : {\r\n        inscription () {\r\n          this.$router.push({\r\n            name: 'formulaire',\r\n          }) \r\n        },\r\n        deconnexion() {\r\n          this.$router.push({\r\n            name: 'home'\r\n          })\r\n          window.location.reload()\r\n        },\r\n        fiche(value){\r\n          this.$router.push({\r\n          path : `compte/${value.id}`\r\n          })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style >\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CompteView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CompteView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CompteView.vue?vue&type=template&id=1d447cea&\"\nimport script from \"./CompteView.vue?vue&type=script&lang=js&\"\nexport * from \"./CompteView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\ninstallComponents(component, {VApp,VBtn,VDataTable})\n"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","staticClass","attrs","enfants_parents","fiches_enfants","on","fiche","inscription","deconnexion","staticRenderFns","content","id_parent","text","align","sortable","value","join","axios","params","then","response","nom_complet","id","methods","name","window","path","component","VApp"],"sourceRoot":""}