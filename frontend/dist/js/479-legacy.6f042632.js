"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[479],{7479:function(n,e,t){t.r(e),t.d(e,{default:function(){return v}});var i=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("v-app",[t("div",[t("h1",[n._v("Liste de vos enfants")])]),t("v-data-table",{staticClass:"elevation-8",attrs:{headers:n.enfants_parents,items:n.fiches_enfants,"items-per-page":5,id:"poussin"},on:{"click:row":n.fiche}}),t("div",[t("h1",[n._v("Inscrire un enfant?")]),t("v-btn",{on:{click:n.inscription}},[n._v("Inscrire un enfant?")])],1),t("div",[t("h1",[n._v("Se déconnecter")]),t("v-btn",{on:{click:n.deconnexion}},[n._v("Se déconnecter")])],1)],1)},o=[],a=(t(4916),t(3123),t(5306),t(9600),t(1249),t(5505),t(7714),t(2801),t(1174),t(7042),t(1539),t(9714),t(9669)),s=t.n(a),r={data:function(){return{content:"",id_parent:"",fiches_enfants:[],enfants_parents:[{text:"Nom des enfants",align:"start",sortable:!1,value:"nom_complet"}]}},mounted:function(){var n=this,e=s().defaults.headers.common.Authorization;if(!e)return"Utilisteur pas connecté";var t=e.split("Bearer ")[1],i=t.split(".")[1],o=i.replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(atob(o).split("").map((function(n){return"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)})).join("")),r=JSON.parse(a);if(this.id_parent=r.userId,this.compte=[],void 0!==this.id_parent){var c={id_parent:this.id_parent};s().get("https://testdev3heroku.herokuapp.com/api/compte/fiches",{params:c}).then((function(e){if(n.content=e.data,n.fiches_enfants,void 0==n.content[0]){var t={nom_complet:"Vous n'avez pas encore d'enfants"};n.fiches_enfants.push(t)}else for(var i in n.content){var o={nom_complet:n.content[i].nom_enfant+" "+n.content[i].prenom_enfant,id:n.content[i]._id};n.fiches_enfants.push(o)}}))}},methods:{inscription:function(){this.$router.push({name:"formulaire"})},deconnexion:function(){this.$router.push({name:"home"}),window.location.reload()},fiche:function(n){this.$router.push({path:"compte/".concat(n.id)})}}},c=r,p=t(1001),f=t(3453),u=t.n(f),d=t(7524),h=t(680),l=t(4571),m=(0,p.Z)(c,i,o,!1,null,null,null),v=m.exports;u()(m,{VApp:d.Z,VBtn:h.Z,VDataTable:l.Z})}}]);
//# sourceMappingURL=479-legacy.6f042632.js.map